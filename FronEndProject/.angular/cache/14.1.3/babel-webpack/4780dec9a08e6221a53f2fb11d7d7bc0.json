{"ast":null,"code":"import _asyncToGenerator from \"F:/GITHUB/PERSONAL/FronEndProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"La contrase\\u00F1a requiere al menos 8 car\\u00E1cteres\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"success\": a0,\n    \"fail\": a1\n  };\n};\n\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.error = false;\n    this.login = {\n      username: '',\n      password: ''\n    };\n  }\n\n  ngOnInit() {}\n\n  loginUser(form) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const res = yield _this.authService.login(form.value);\n      if (res) yield _this.router.navigate(['/contacts']);else _this.error = true;\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 25,\n  vars: 9,\n  consts: [[1, \"main\"], [1, \"login-box\"], [3, \"ngSubmit\"], [\"loginFrom\", \"ngForm\"], [\"for\", \"username\", 1, \"username\"], [\"type\", \"text\", \"name\", \"username\", \"id\", \"username\", \"placeholder\", \"username\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"username\", \"ngModel\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"placeholder\", \"enter password\", \"required\", \"\", 3, \"ngModel\", \"required\", \"minlength\", \"ngModelChange\"], [\"password\", \"ngModel\"], [4, \"ngIf\"], [\"type\", \"submit\", \"value\", \"login\", \"routerLink\", \"/login\", 1, \"btn-login\"], [3, \"ngClass\"], [1, \"p\"], [\"href\", \"/resetpsw\"], [\"href\", \"/register\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"login here\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n        i0.ɵɵrestoreView(_r4);\n\n        const _r0 = i0.ɵɵreference(5);\n\n        return i0.ɵɵresetView(ctx.loginUser(_r0));\n      });\n      i0.ɵɵelementStart(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.login.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.login.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementStart(15, \"button\", 11);\n      i0.ɵɵtext(16, \"login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 12)(18, \"span\");\n      i0.ɵɵtext(19, \"Contrase\\u00F1a o Usuario incorrectos\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"a\", 14);\n      i0.ɵɵtext(22, \"Has olvidado tu contrase\\u00F1a?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"a\", 15);\n      i0.ɵɵtext(24, \"registrarse\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(13);\n\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.login.username);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.login.password)(\"required\", true)(\"minlength\", 8);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r2.touched && _r2.errors);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c0, !ctx.error, ctx.error));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, i4.NgForm],\n  styles: [\"[_ngcontent-%COMP%]:root {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.main[_ngcontent-%COMP%] {\\n  margin: auto;\\n  font-family: sans-serif;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.login-box[_ngcontent-%COMP%] {\\n  max-width: 320px;\\n  color: #3A00E5;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0 0 20px;\\n  text-align: center;\\n  font-size: 22px;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 5px 2px;\\n  display: block;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 20px;\\n  padding: 10px;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: 1px solid #AFB1B6;\\n  border-radius: 8px;\\n  outline: none;\\n  height: 40px;\\n  font-size: 16px;\\n}\\n\\n.btn-login[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  height: 40px;\\n  background: black;\\n  color: #fff;\\n  font-size: 18px;\\n  border-radius: 20px;\\n  width: 100%;\\n  margin: 20px 0;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  background: #ffc107;\\n  color: #000;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  font-size: 12px;\\n  line-height: 20px;\\n  color: darkgrey;\\n}\\n\\n.login-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: #fff;\\n}\\n\\n.p[_ngcontent-%COMP%] {\\n  color: #000;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.fail[_ngcontent-%COMP%] {\\n  color: #e50000;\\n  font-size: 13px;\\n  font-weight: bold;\\n  text-align: center;\\n  margin: 2px;\\n}\\n\\n.success[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsU0FBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUlBO0VBQ0UsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQURGOztBQUlBO0VBRUUseUJBQUE7RUFDQSxrQkFBQTtFQUVBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQUhGOztBQU9BO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFFQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFMRjs7QUFRQTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFMRjs7QUFRQTtFQUNFLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtBQUxGOztBQVFBO0VBQ0UsV0FBQTtBQUxGOztBQVFBO0VBRUUsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQU5GOztBQVVBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQVBGOztBQVVBO0VBQ0UsYUFBQTtBQVBGIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3Qge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLm1haW4ge1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sb2dpbi1ib3gge1xyXG4gIG1heC13aWR0aDogMzIwcHg7XHJcbiAgY29sb3I6ICMzQTAwRTU7XHJcbn1cclxuXHJcbi5sb2dpbi1ib3ggaDEge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwIDAgMjBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG59XHJcblxyXG4ubG9naW4tYm94IGxhYmVsIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogNXB4IDJweDtcclxuICBkaXNwbGF5OiBibG9jaztcclxuXHJcbn1cclxuXHJcblxyXG4ubG9naW4tYm94IGlucHV0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5sb2dpbi1ib3ggaW5wdXQge1xyXG4gIC8vIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjQUZCMUI2O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAvL2JhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuXHJcbn1cclxuXHJcbi5idG4tbG9naW4ge1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGhlaWdodDogNDBweDtcclxuICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAvLyBiODBmMjJcclxuICBjb2xvcjogI2ZmZjtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW46IDIwcHggMDtcclxufVxyXG5cclxuLmxvZ2luLWJveCBpbnB1dFt0eXBlPVwic3VibWl0XCJdOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYmFja2dyb3VuZDogI2ZmYzEwNztcclxuICBjb2xvcjogIzAwMDtcclxufVxyXG5cclxuLmxvZ2luLWJveCBhIHtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gIGNvbG9yOiBkYXJrZ3JleTtcclxufVxyXG5cclxuLmxvZ2luLWJveCBhOmhvdmVyIHtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLnAge1xyXG5cclxuICBjb2xvcjogIzAwMDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG59XHJcblxyXG4uZmFpbCB7XHJcbiAgY29sb3I6ICNlNTAwMDA7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW46IDJweDtcclxufVxyXG5cclxuLnN1Y2Nlc3Mge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAWMA;IAAiDA;IAA4CA;;;;;;;;;;;ACAnG,OAAM,MAAOC,cAAP,CAAqB;EAEzBC,YAAoBC,WAApB,EAAsDC,MAAtD,EAAoE;IAAhD;IAAkC;IAGtD,aAAkB,KAAlB;IAGA,aAAgB;MACdC,QAAQ,EAAE,EADI;MAEdC,QAAQ,EAAE;IAFI,CAAhB;EALC;;EAWDC,QAAQ,IACP;;EAEKC,SAAS,CAACC,IAAD,EAAY;IAAA;;IAAA;MACzB,MAAMC,GAAG,SAAS,KAAI,CAACP,WAAL,CAAiBQ,KAAjB,CAAuBF,IAAI,CAACG,KAA5B,CAAlB;MACA,IAAGF,GAAH,EAAQ,MAAM,KAAI,CAACN,MAAL,CAAYS,QAAZ,CAAqB,CAAC,WAAD,CAArB,CAAN,CAAR,KACK,KAAI,CAACC,KAAL,GAAa,IAAb;IAHoB;EAI1B;;AArBwB;;;mBAAdb,gBAAcD;AAAA;;;QAAdC;EAAcc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MDX3BnB,+BAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,IAAlB;MAEQA;MAAUA;MACdA;MAA0BA;QAAAA;;QAAA;;QAAA,OAAYA,kCAAZ;MAAgC,CAAhC;MACxBA;MAAuCA;MAAQA;MAC/CA;MAAiFA;QAAA;MAAA;MAAjFA;MAGAA;MAAsBA;MAAQA;MAC9BA;MACOA;QAAA;MAAA;MADPA;MAEAA;MACAA;MAA0EA;MAAKA;MAC/EA,iCAAsD,EAAtD,EAAsD,MAAtD;MACQA;MAAgCA;MAG1CA,iCAAe,EAAf,EAAe,GAAf,EAAe,EAAf;MACsBA;MAA2BA;MAC/CA;MAAoBA;MAAWA;;;;;;MAdkDA;MAAAA;MAK1EA;MAAAA,6CAA4B,UAA5B,EAA4B,IAA5B,EAA4B,WAA5B,EAA4B,CAA5B;MACDA;MAAAA;MAEAA;MAAAA","names":["i0","LoginComponent","constructor","authService","router","username","password","ngOnInit","loginUser","form","res","login","value","navigate","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\GITHUB\\PERSONAL\\FronEndProject\\src\\app\\public\\pages\\login\\login.component.html","F:\\GITHUB\\PERSONAL\\FronEndProject\\src\\app\\public\\pages\\login\\login.component.ts"],"sourcesContent":["<div class=\"main\">\r\n  <div class=\"login-box\">\r\n    <h1>login here</h1>\r\n    <form #loginFrom=\"ngForm\" (ngSubmit)=\"loginUser(loginFrom)\">\r\n      <label class=\"username\" for=\"username\">Username</label>\r\n      <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"username\" required [(ngModel)]=\"login.username\"\r\n             #username=\"ngModel\">\r\n\r\n      <label for=\"password\">Password</label>\r\n      <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"enter password\" required\r\n             [(ngModel)]=\"login.password\" [required]=\"true\" [minlength]=\"8\" #password=\"ngModel\">\r\n      <div *ngIf=\"password.touched && password.errors\">La contraseña requiere al menos 8 carácteres</div>\r\n      <button class=\"btn-login\" type=\"submit\" value=\"login\" routerLink=\"/login\">login</button>\r\n      <div  [ngClass]=\"{'success' : !error, 'fail': error}\">\r\n        <span>Contraseña o Usuario incorrectos</span>\r\n      </div>\r\n    </form>\r\n    <div class=\"p\">\r\n      <a href=\"/resetpsw\">Has olvidado tu contraseña?</a>\r\n      <a href=\"/register\">registrarse</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {AuthService} from \"../../../core/services/auth.service\";\r\nimport {Ilogin} from \"../../../core/interfaces/login\";\r\nimport {Router} from \"@angular/router\";\r\nimport {NgForm} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  constructor(private authService: AuthService, private router: Router) {\r\n  }\r\n\r\n  error : boolean = false\r\n\r\n\r\n  login: Ilogin = {\r\n    username: '',\r\n    password: '',\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async loginUser(form:NgForm){\r\n    const res = await this.authService.login(form.value);\r\n    if(res) await this.router.navigate(['/contacts']);\r\n    else this.error = true\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}